<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Particle Physics Visualizer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('https://www.transparenttextures.com/patterns/stardust.png');
            opacity: 0.1;
            z-index: -1;
        }
    </style>
</head>
<body class="relative bg-gradient-to-br from-gray-900 via-black to-black text-gray-200 font-sans p-4 sm:p-6 md:p-8 min-h-screen">
    <div class="relative container mx-auto">
        <header class="text-center mb-8 md:mb-12">
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500 mb-2">
                Particle Physics Visualizer
            </h1>
            <p class="text-lg text-gray-400 max-w-3xl mx-auto">
                Explore the fundamental and composite building blocks of the universe.
            </p>
        </header>

        <nav class="flex justify-center border-b border-gray-700">
            <button id="tab-standard-model">
                Standard Model
            </button>
            <button id="tab-supersymmetry">
                Supersymmetry
            </button>
            <button id="tab-hadrons">
                Hadrons
            </button>
        </nav>

        <div class="flex justify-end my-6">
            <div class="flex items-center space-x-2">
                <label for="sort-control" class="text-gray-400 font-semibold">Sort by:</label>
                <select id="sort-control" class="bg-gray-800 border border-gray-600 rounded-md px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 appearance-none">
                    <option value="default">Default</option>
                    <option value="name-asc">Name (A-Z)</option>
                    <option value="name-desc">Name (Z-A)</option>
                    <option value="mass-asc">Mass (Ascending)</option>
                    <option value="mass-desc">Mass (Descending)</option>
                    <option value="generation">Generation</option>
                    <option value="charge-asc">Charge (Ascending)</option>
                    <option value="charge-desc">Charge (Descending)</option>
                    <option value="spin-asc">Spin (Ascending)</option>
                    <option value="spin-desc">Spin (Descending)</option>
                    <option value="family">Family (A-Z)</option>
                </select>
            </div>
        </div>

        <main>
            <div id="particle-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
                <!-- Particle cards will be dynamically inserted here -->
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA ---
            const ParticleFamily = {
                QUARK: 'Quark',
                LEPTON: 'Lepton',
                GAUGE_BOSON: 'Gauge Boson',
                SCALAR_BOSON: 'Scalar Boson',
                SQUARK: 'Squark',
                SLEPTON: 'Slepton',
                GAUGINO: 'Gaugino',
                HIGGSINO: 'Higgsino',
                BARYON: 'Baryon',
                MESON: 'Meson',
            };

            const Classification = {
                FERMION: 'Fermion',
                BOSON: 'Boson',
            };

            const standardModelParticles = [
                { name: 'Up', symbol: 'u', family: ParticleFamily.QUARK, classification: Classification.FERMION, mass: '2.2 MeV/c²', charge: '+2/3', spin: '1/2', description: 'The lightest of all quarks.', generation: 1 },
                { name: 'Down', symbol: 'd', family: ParticleFamily.QUARK, classification: Classification.FERMION, mass: '4.7 MeV/c²', charge: '-1/3', spin: '1/2', description: 'Combines with up quarks to form protons and neutrons.', generation: 1 },
                { name: 'Charm', symbol: 'c', family: ParticleFamily.QUARK, classification: Classification.FERMION, mass: '1.27 GeV/c²', charge: '+2/3', spin: '1/2', description: 'The third most massive of the six quarks.', generation: 2 },
                { name: 'Strange', symbol: 's', family: ParticleFamily.QUARK, classification: Classification.FERMION, mass: '95 MeV/c²', charge: '-1/3', spin: '1/2', description: 'A third-lightest quark, found in particles like kaons.', generation: 2 },
                { name: 'Top', symbol: 't', family: ParticleFamily.QUARK, classification: Classification.FERMION, mass: '173.1 GeV/c²', charge: '+2/3', spin: '1/2', description: 'The most massive elementary particle discovered.', generation: 3 },
                { name: 'Bottom', symbol: 'b', family: ParticleFamily.QUARK, classification: Classification.FERMION, mass: '4.18 GeV/c²', charge: '-1/3', spin: '1/2', description: 'Also known as the beauty quark.', generation: 3 },
                { name: 'Electron', symbol: 'e⁻', family: ParticleFamily.LEPTON, classification: Classification.FERMION, mass: '0.511 MeV/c²', charge: '-1', spin: '1/2', description: 'A fundamental particle, orbits the nucleus of an atom.', generation: 1 },
                { name: 'Electron Neutrino', symbol: 'νe', family: ParticleFamily.LEPTON, classification: Classification.FERMION, mass: '< 1 eV/c²', charge: '0', spin: '1/2', description: 'An elusive particle that rarely interacts with matter.', generation: 1 },
                { name: 'Muon', symbol: 'μ⁻', family: ParticleFamily.LEPTON, classification: Classification.FERMION, mass: '105.7 MeV/c²', charge: '-1', spin: '1/2', description: 'An unstable lepton, about 200 times more massive than an electron.', generation: 2 },
                { name: 'Muon Neutrino', symbol: 'νμ', family: ParticleFamily.LEPTON, classification: Classification.FERMION, mass: '< 0.17 MeV/c²', charge: '0', spin: '1/2', description: 'Produced in various particle decays.', generation: 2 },
                { name: 'Tau', symbol: 'τ⁻', family: ParticleFamily.LEPTON, classification: Classification.FERMION, mass: '1.777 GeV/c²', charge: '-1', spin: '1/2', description: 'A heavier, unstable version of the electron.', generation: 3 },
                { name: 'Tau Neutrino', symbol: 'ντ', family: ParticleFamily.LEPTON, classification: Classification.FERMION, mass: '< 18.2 MeV/c²', charge: '0', spin: '1/2', description: 'The third type of neutrino.', generation: 3 },
                { name: 'Photon', symbol: 'γ', family: ParticleFamily.GAUGE_BOSON, classification: Classification.BOSON, mass: '0', charge: '0', spin: '1', description: 'The quantum of the electromagnetic field, mediates light and electromagnetism.' },
                { name: 'Gluon', symbol: 'g', family: ParticleFamily.GAUGE_BOSON, classification: Classification.BOSON, mass: '0', charge: '0', spin: '1', description: 'The mediator of the strong force, binding quarks together.' },
                { name: 'W Boson', symbol: 'W±', family: ParticleFamily.GAUGE_BOSON, classification: Classification.BOSON, mass: '80.4 GeV/c²', charge: '±1', spin: '1', description: 'Mediates the weak force, involved in radioactive decay.' },
                { name: 'Z Boson', symbol: 'Z', family: ParticleFamily.GAUGE_BOSON, classification: Classification.BOSON, mass: '91.2 GeV/c²', charge: '0', spin: '1', description: 'Also mediates the weak force, but is electrically neutral.' },
                { name: 'Higgs Boson', symbol: 'H', family: ParticleFamily.SCALAR_BOSON, classification: Classification.BOSON, mass: '125.1 GeV/c²', charge: '0', spin: '0', description: 'Associated with the Higgs field, which gives mass to other particles.' },
            ];

            const supersymmetryParticles = [
                { name: 'Sup Quark', symbol: 'ũ', family: ParticleFamily.SQUARK, classification: Classification.BOSON, mass: '> 1 TeV/c²', charge: '+2/3', spin: '0', description: 'Superpartner of the Up quark.' },
                { name: 'Sdown Quark', symbol: 'd̃', family: ParticleFamily.SQUARK, classification: Classification.BOSON, mass: '> 1 TeV/c²', charge: '-1/3', spin: '0', description: 'Superpartner of the Down quark.' },
                { name: 'Scharm Quark', symbol: 'c̃', family: ParticleFamily.SQUARK, classification: Classification.BOSON, mass: '> 1 TeV/c²', charge: '+2/3', spin: '0', description: 'Superpartner of the Charm quark.' },
                { name: 'Sstrange Quark', symbol: 's̃', family: ParticleFamily.SQUARK, classification: Classification.BOSON, mass: '> 1 TeV/c²', charge: '-1/3', spin: '0', description: 'Superpartner of the Strange quark.' },
                { name: 'Stop Quark', symbol: 't̃', family: ParticleFamily.SQUARK, classification: Classification.BOSON, mass: '> 1 TeV/c²', charge: '+2/3', spin: '0', description: 'Superpartner of the Top quark.' },
                { name: 'Sbottom Quark', symbol: 'b̃', family: ParticleFamily.SQUARK, classification: Classification.BOSON, mass: '> 1 TeV/c²', charge: '-1/3', spin: '0', description: 'Superpartner of the Bottom quark.' },
                { name: 'Selectron', symbol: 'ẽ⁻', family: ParticleFamily.SLEPTON, classification: Classification.BOSON, mass: '> 500 GeV/c²', charge: '-1', spin: '0', description: 'Superpartner of the Electron.' },
                { name: 'Selectron Sneutrino', symbol: 'ν̃e', family: ParticleFamily.SLEPTON, classification: Classification.BOSON, mass: '> 400 GeV/c²', charge: '0', spin: '0', description: 'Superpartner of the Electron Neutrino.' },
                { name: 'Smuon', symbol: 'μ̃⁻', family: ParticleFamily.SLEPTON, classification: Classification.BOSON, mass: '> 500 GeV/c²', charge: '-1', spin: '0', description: 'Superpartner of the Muon.' },
                { name: 'Smuon Sneutrino', symbol: 'ν̃μ', family: ParticleFamily.SLEPTON, classification: Classification.BOSON, mass: '> 400 GeV/c²', charge: '0', spin: '0', description: 'Superpartner of the Muon Neutrino.' },
                { name: 'Stau', symbol: 'τ̃⁻', family: ParticleFamily.SLEPTON, classification: Classification.BOSON, mass: '> 500 GeV/c²', charge: '-1', spin: '0', description: 'Superpartner of the Tau.' },
                { name: 'Stau Sneutrino', symbol: 'ν̃τ', family: ParticleFamily.SLEPTON, classification: Classification.BOSON, mass: '> 400 GeV/c²', charge: '0', spin: '0', description: 'Superpartner of the Tau Neutrino.' },
                { name: 'Photino', symbol: 'γ̃', family: ParticleFamily.GAUGINO, classification: Classification.FERMION, mass: 'Varies', charge: '0', spin: '1/2', description: 'Superpartner of the Photon.' },
                { name: 'Gluino', symbol: 'g̃', family: ParticleFamily.GAUGINO, classification: Classification.FERMION, mass: '> 2 TeV/c²', charge: '0', spin: '1/2', description: 'Superpartner of the Gluon.' },
                { name: 'Wino', symbol: 'W̃±', family: ParticleFamily.GAUGINO, classification: Classification.FERMION, mass: 'Varies', charge: '±1', spin: '1/2', description: 'Superpartner of the W Boson.' },
                { name: 'Zino', symbol: 'Z̃', family: ParticleFamily.GAUGINO, classification: Classification.FERMION, mass: 'Varies', charge: '0', spin: '1/2', description: 'Superpartner of the Z Boson.' },
                { name: 'Higgsino', symbol: 'H̃', family: ParticleFamily.HIGGSINO, classification: Classification.FERMION, mass: 'Varies', charge: '0/±1', spin: '1/2', description: 'Superpartner of the Higgs Boson. Mixes to form Neutralinos and Charginos.' },
                { name: 'Gravitino', symbol: 'G̃', family: ParticleFamily.GAUGINO, classification: Classification.FERMION, mass: 'Varies', charge: '0', spin: '3/2', description: 'Superpartner of the Graviton, predicted by supergravity.' },
            ];

            const hadrons = [
                { name: 'Proton', symbol: 'p', family: ParticleFamily.BARYON, classification: Classification.FERMION, mass: '938.3 MeV/c²', charge: '+1', spin: '1/2', description: 'A stable particle found in the nucleus of atoms.', composition: 'uud' },
                { name: 'Neutron', symbol: 'n', family: ParticleFamily.BARYON, classification: Classification.FERMION, mass: '939.6 MeV/c²', charge: '0', spin: '1/2', description: 'A neutral particle also found in the atomic nucleus.', composition: 'udd' },
                { name: 'Lambda', symbol: 'Λ', family: ParticleFamily.BARYON, classification: Classification.FERMION, mass: '1115.7 MeV/c²', charge: '0', spin: '1/2', description: 'An unstable baryon containing a strange quark.', composition: 'uds' },
                { name: 'Sigma', symbol: 'Σ⁺', family: ParticleFamily.BARYON, classification: Classification.FERMION, mass: '1189.4 MeV/c²', charge: '+1', spin: '1/2', description: 'A "strange" baryon, part of an isospin triplet.', composition: 'uus' },
                { name: 'Xi', symbol: 'Ξ⁰', family: ParticleFamily.BARYON, classification: Classification.FERMION, mass: '1314.86 MeV/c²', charge: '0', spin: '1/2', description: 'A "doubly strange" baryon, also known as the cascade particle.', composition: 'uss' },
                { name: 'Delta', symbol: 'Δ⁺⁺', family: ParticleFamily.BARYON, classification: Classification.FERMION, mass: '1232 MeV/c²', charge: '+2', spin: '3/2', description: 'An excited state (resonance) of protons and neutrons.', composition: 'uuu' },
                { name: 'Omega', symbol: 'Ω⁻', family: ParticleFamily.BARYON, classification: Classification.FERMION, mass: '1672.45 MeV/c²', charge: '-1', spin: '3/2', description: 'A "triply strange" baryon whose discovery was a triumph for the quark model.', composition: 'sss' },
                { name: 'Pion', symbol: 'π⁺', family: ParticleFamily.MESON, classification: Classification.BOSON, mass: '139.6 MeV/c²', charge: '+1', spin: '0', description: 'The lightest meson, mediates the nuclear force between nucleons.', composition: 'ud&#773;' },
                { name: 'Kaon', symbol: 'K⁺', family: ParticleFamily.MESON, classification: Classification.BOSON, mass: '493.7 MeV/c²', charge: '+1', spin: '0', description: 'A meson containing a strange antiquark.', composition: 'us&#773;' },
                { name: 'Rho', symbol: 'ρ⁺', family: ParticleFamily.MESON, classification: Classification.BOSON, mass: '775.1 MeV/c²', charge: '+1', spin: '1', description: 'A short-lived resonance, an excited state of the pion.', composition: 'ud&#773;' },
                { name: 'Eta', symbol: 'η', family: ParticleFamily.MESON, classification: Classification.BOSON, mass: '547.86 MeV/c²', charge: '0', spin: '0', description: 'A neutral meson that is a mixture of quark-antiquark pairs.', composition: 'Quark-antiquark mix' },
                { name: 'D Meson', symbol: 'D⁰', family: ParticleFamily.MESON, classification: Classification.BOSON, mass: '1864.8 MeV/c²', charge: '0', spin: '0', description: 'The lightest meson containing a charm quark.', composition: 'cu&#773;' },
                { name: 'B Meson', symbol: 'B⁺', family: ParticleFamily.MESON, classification: Classification.BOSON, mass: '5279.4 MeV/c²', charge: '+1', spin: '0', description: 'A meson containing a bottom antiquark, studied in CP violation.', composition: 'ub&#773;' },
                { name: 'J/psi', symbol: 'J/ψ', family: ParticleFamily.MESON, classification: Classification.BOSON, mass: '3096.9 MeV/c²', charge: '0', spin: '1', description: 'A charmonium state whose discovery was the "November Revolution".', composition: 'cc&#773;' },
            ];

            // --- DOM ELEMENTS ---
            const particleGrid = document.getElementById('particle-grid');
            const tabStandardModel = document.getElementById('tab-standard-model');
            const tabSupersymmetry = document.getElementById('tab-supersymmetry');
            const tabHadrons = document.getElementById('tab-hadrons');
            const sortControl = document.getElementById('sort-control');

            // --- STATE ---
            let activeView = 'standard_model';
            let activeSort = 'default';

            // --- STYLING LOGIC ---
            const commonTabClasses = "px-6 py-3 font-semibold text-lg rounded-t-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900";
            const activeTabClasses = "bg-white/10 text-cyan-300 backdrop-blur-sm ring-cyan-400";
            const inactiveTabClasses = "bg-transparent text-gray-400 hover:bg-white/5 hover:text-white";

            const getFamilyColors = (family) => {
                switch (family) {
                    case ParticleFamily.QUARK: return 'border-cyan-400 text-cyan-300 shadow-cyan-500/20';
                    case ParticleFamily.LEPTON: return 'border-green-400 text-green-300 shadow-green-500/20';
                    case ParticleFamily.GAUGE_BOSON: return 'border-red-500 text-red-400 shadow-red-500/20';
                    case ParticleFamily.SCALAR_BOSON: return 'border-yellow-400 text-yellow-300 shadow-yellow-500/20';
                    case ParticleFamily.BARYON: return 'border-orange-500 text-orange-400 shadow-orange-500/20';
                    case ParticleFamily.MESON: return 'border-pink-500 text-pink-400 shadow-pink-500/20';
                    case ParticleFamily.SQUARK:
                    case ParticleFamily.SLEPTON:
                    case ParticleFamily.GAUGINO:
                    case ParticleFamily.HIGGSINO: return 'border-purple-500 text-purple-400 shadow-purple-500/20';
                    default: return 'border-gray-500 text-gray-400 shadow-gray-500/20';
                }
            };
            
            // --- PARSING & SORTING LOGIC ---
            const parseMass = (massStr) => {
                if (massStr === '0') return 0;
                if (massStr === 'Varies') return Infinity;

                const massCleaned = massStr.replace(/[<>~²]/g, '').trim();
                const parts = massCleaned.split(' ');
                const value = parseFloat(parts[0]);

                if (isNaN(value)) return Infinity;

                const unit = parts[1] ? parts[1].toUpperCase() : '';
                let multiplier = 1; // Default to eV
                if (unit.startsWith('TEV')) multiplier = 1e12;
                else if (unit.startsWith('GEV')) multiplier = 1e9;
                else if (unit.startsWith('MEV')) multiplier = 1e6;
                
                return value * multiplier;
            };

            const parseCharge = (chargeStr) => {
                if (chargeStr === '0/±1') return 0;
                if (chargeStr.includes('±')) return parseFloat(chargeStr.replace('±', ''));
                if (chargeStr.includes('/')) {
                    try { return eval(chargeStr); } catch (e) { return 0; }
                }
                return parseFloat(chargeStr);
            };

            const parseSpin = (spinStr) => {
                if (spinStr.includes('/')) {
                    try { return eval(spinStr); } catch (e) { return 0; }
                }
                return parseFloat(spinStr);
            };

            // --- RENDER FUNCTIONS ---
            const renderParticles = (particles) => {
                let html = '';
                for (const particle of particles) {
                    const colors = getFamilyColors(particle.family);
                    const generationInfo = particle.generation ? ` - Gen ${particle.generation}` : '';
                    const classificationColor = particle.classification === Classification.FERMION
                        ? 'bg-blue-500/30 text-blue-300'
                        : 'bg-red-500/30 text-red-300';
                    const compositionInfo = particle.composition
                        ? `<p><span class="font-semibold text-gray-400 w-16 inline-block">Quarks:</span> ${particle.composition}</p>`
                        : '';
                    html += `
                        <div class="relative bg-gray-800/40 backdrop-blur-md border ${colors} rounded-lg p-5 flex flex-col h-full shadow-lg hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 group">
                            <div class="flex justify-between items-start">
                                <h3 class="text-xl font-bold text-gray-100 pr-4">${particle.name}</h3>
                                <div class="text-4xl font-mono font-black opacity-40 group-hover:opacity-80 transition-opacity duration-300 ${colors}">
                                    ${particle.symbol}
                                </div>
                            </div>
                            <div class="mt-2 mb-4 flex items-center flex-wrap gap-2">
                                <span class="text-sm font-semibold px-2 py-1 rounded-full bg-white/5 ${colors}">
                                    ${particle.family}${generationInfo}
                                </span>
                                <span class="text-xs font-bold px-2 py-1 rounded-full ${classificationColor}">
                                    ${particle.classification}
                                </span>
                            </div>
                            <div class="space-y-2 text-sm text-gray-300 flex-grow">
                                <p><span class="font-semibold text-gray-400 w-16 inline-block">Mass:</span> ${particle.mass}</p>
                                <p><span class="font-semibold text-gray-400 w-16 inline-block">Charge:</span> ${particle.charge}</p>
                                <p><span class="font-semibold text-gray-400 w-16 inline-block">Spin:</span> ${particle.spin}</p>
                                ${compositionInfo}
                            </div>
                            <p class="mt-4 text-xs text-gray-400 pt-3 border-t border-white/10">
                                ${particle.description}
                            </p>
                        </div>
                    `;
                }
                particleGrid.innerHTML = html;
            };

            const updateDisplay = () => {
                const particleData = activeView === 'standard_model' 
                    ? standardModelParticles 
                    : activeView === 'supersymmetry'
                    ? supersymmetryParticles
                    : hadrons;
                
                let sortedParticles = [...particleData];

                switch (activeSort) {
                    case 'name-asc':
                        sortedParticles.sort((a, b) => a.name.localeCompare(b.name));
                        break;
                    case 'name-desc':
                        sortedParticles.sort((a, b) => b.name.localeCompare(a.name));
                        break;
                    case 'mass-asc':
                        sortedParticles.sort((a, b) => parseMass(a.mass) - parseMass(b.mass));
                        break;
                    case 'mass-desc':
                        sortedParticles.sort((a, b) => parseMass(b.mass) - parseMass(a.mass));
                        break;
                    case 'generation':
                        sortedParticles.sort((a, b) => (a.generation || 4) - (b.generation || 4));
                        break;
                    case 'charge-asc':
                        sortedParticles.sort((a, b) => parseCharge(a.charge) - parseCharge(b.charge));
                        break;
                    case 'charge-desc':
                        sortedParticles.sort((a, b) => parseCharge(b.charge) - parseCharge(a.charge));
                        break;
                    case 'spin-asc':
                        sortedParticles.sort((a, b) => parseSpin(a.spin) - parseSpin(b.spin));
                        break;
                    case 'spin-desc':
                        sortedParticles.sort((a, b) => parseSpin(b.spin) - parseSpin(a.spin));
                        break;
                    case 'family':
                        sortedParticles.sort((a, b) => a.family.localeCompare(b.family));
                        break;
                }

                renderParticles(sortedParticles);
            };

            const setActiveView = (view) => {
                activeView = view;
                tabStandardModel.className = `${commonTabClasses} ${view === 'standard_model' ? activeTabClasses : inactiveTabClasses}`;
                tabSupersymmetry.className = `${commonTabClasses} ${view === 'supersymmetry' ? activeTabClasses : inactiveTabClasses}`;
                tabHadrons.className = `${commonTabClasses} ${view === 'hadrons' ? activeTabClasses : inactiveTabClasses}`;
                updateDisplay();
            };

            // --- EVENT HANDLING ---
            tabStandardModel.addEventListener('click', () => setActiveView('standard_model'));
            tabSupersymmetry.addEventListener('click', () => setActiveView('supersymmetry'));
            tabHadrons.addEventListener('click', () => setActiveView('hadrons'));
            sortControl.addEventListener('change', (e) => {
                activeSort = e.target.value;
                updateDisplay();
            });

            // --- INITIAL RENDER ---
            setActiveView('standard_model');
        });
    </script>
</body>
</html>